<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" name="viewport">
<meta name="author" content="Edouard Legoupil -- with good ideas from Aung Thau :)">
<meta property="og:title" content="2015 3RP Jordan (Refugee Pillar)">
<meta property="og:type" content="article">
<meta property="og:url" content="http://data.unhcr.org/jordan/3rp">
<meta property="og:image" content="http://data.unhcr.org/jordan/3rp/thumbnail.jpg">
<meta property="og:site_name" content="2015 Refugee Response in Jordan">
<meta property="og:description" content="2015 3RP Jordan ">
    <title>2015 3RP Jordan (Refugee Pillar)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/dc.css">
    <link rel="stylesheet" type="text/css" href="css/3w-dashboard.css">
    <!-- Add IntroJs styles and JS -->
    <link rel="stylesheet" type="text/css" href="css/introjs.css">
    <script type="text/javascript" src="js/intro.js"></script>
    <script src="js/jquery.js"></script>

    <!-- map the data to the GeoJSON object -->
    <script src="js/data-jo.js"></script>
    <link href="http://www.unhcr.org/favicon.ico" rel="icon" type="image/x-icon">
  <style>@-webkit-keyframes popaqisqezremkggezpgzrwftdammlcebrfuyv {50% {-webkit-transform:scale(1.2);}100% {-webkit-transform:scale(1);}}@keyframes popaqisqezremkggezpgzrwftdammlcebrfuyv {50% {-webkit-transform:scale(1.2);transform:scale(1.2);}100% {-webkit-transform:scale(1);transform:scale(1);}}#aqisqezremkggezpgzrwftdammlcebrfuyv{padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;border:solid 2px #fff !important;color:#fff !important;display:block !important;height:auto !important;margin:0 !important;opacity:0.9 !important;padding:7px 10px !important;position:fixed !important;visibility:visible !important;width:auto !important;z-index:2147483647 !important;-moz-border-radius:5px !important;border-radius:5px !important;-moz-box-shadow:0px 0px 20px #000 !important;box-shadow:0px 0px 20px #000 !important;}.aqisqezremkggezpgzrwftdammlcebrfuyv-blocked{padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;color:#AAA !important;display:inline !important;text-decoration:line-through !important;}#aqisqezremkggezpgzrwftdammlcebrfuyv br{display:block !important;padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;}#aqisqezremkggezpgzrwftdammlcebrfuyv span{background:transparent !important;padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;}#aqisqezremkggezpgzrwftdammlcebrfuyv div{padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;border:0 !important;margin:0 !important;padding:0 !important;width:auto !important;letter-spacing:normal !important;font:13px Arial,Helvetica !important;text-align:left !important;text-shadow:none !important;text-transform:none !important;word-spacing:normal !important;}#aqisqezremkggezpgzrwftdammlcebrfuyv a{padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;font-weight:normal !important;background:none !important;text-decoration:underline !important;color:#fff !important;}a#aqisqezremkggezpgzrwftdammlcebrfuyv-gear{padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;text-decoration:none !important;position:absolute !important;display:none !important;font-size:20px !important;width:20px !important;height:20px !important;line-height:20px !important;text-align:center !important;background-color:rgba(255,255,255,.8) !important;background-image:url(resource://firefox-at-ghostery-dot-com/ghostery/data/images/gear.svg) !important;background-size:16px 16px !important;background-position:center center !important;background-repeat:no-repeat !important;text-decoration:none !important;}a#aqisqezremkggezpgzrwftdammlcebrfuyv-gear:hover{-webkit-animation-name:popaqisqezremkggezpgzrwftdammlcebrfuyv !important;animation-name:popaqisqezremkggezpgzrwftdammlcebrfuyv !important;-webkit-animation-duration:0.3s !important;animation-duration:0.3s !important;}#aqisqezremkggezpgzrwftdammlcebrfuyv:hover #aqisqezremkggezpgzrwftdammlcebrfuyv-gear{text-decoration:none !important;display:inline-block !important;}#aqisqezremkggezpgzrwftdammlcebrfuyv hr{visibility:hidden !important;padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;height:1em;}@media print{#aqisqezremkggezpgzrwftdammlcebrfuyv{display:none !important;}}</style></head>

  <body>
    <div class="container" id="dashboard">
                <h1><a  href="http://data.unhcr.org/jordan"><img src="images/coordination.png" style="height: 48px; width: 48px"></a>
        <strong>2015 3RP Plan in Jordan </strong></h1>
        <div class="col-xs-12">
        Explore <a href="XXX" target="_blank">2015 Interagency Response</a> financial requirement (in USD)
            for Refugee Crisis in Jordan. <strong>All charts are based on USD values appealed. Click on any of the graphs below to filter and slice the data.</strong> 
            More info on Jordan <a href="http://data.unhcr.org/syrianrefugees/country.php?id=107" target="_blank">here</a>.<br>
            <p><i><strong>Please note that, while accurately reflecting planned agency budgets for 2015, this data has not been approved by the Government of Jordan within the context of the Jordan Response Plan.</strong></i></p></div>
        <div class="socialmedia" data-step="13" data-intro="Share!!" data-position="left">
            <table>
              <tbody><tr>
                <td valign="middle"><a href="http://www.facebook.com/sharer.php?u=http://data.unhcr.org/jordan/3rp" target="_blank"><img src="images/Facebook.png" style="height: 25px; width: 25px"></a></td>
                <td valign="middle"><a href="http://pinterest.com/pin/create/button/?url=http%3A%2F%2Fdata.unhcr.org/jordan/3rp&amp;media=http%3A%2F%2Fdata.unhcr.org/jordan/3rp/thumbnail.png" target="_blank" data-pin-do="buttonBookmark"><img src="images/Pinterest.png" style="height: 28px; width: 28px"></a></td>
                <td valign="middle"><a href="https://twitter.com/intent/tweet?url=http://data.unhcr.org/jordan/3rp&amp;text=%23Jordan%20@Refugees" target="_blank"><img src="images/Twitter.png" style="height: 25px; width: 25px"></a></td>
                <td valign="middle"><a href="https://plus.google.com/share?&amp;hl=en&amp;url=http://data.unhcr.org/jordan/3rp" target="_blank"><img src="images/Google.png" style="height: 25px; width: 25px"></a></td>
            </tr>
            </tbody></table>
        </div>
        <div class="row">
            <div class="col-md-8">
                <div class="dc-chart" id="count-info" data-step="12" data-intro="Click on reset to cancel the filters." data-position="right">
                    <h4><strong><span class="filter-count"></span></strong> Activities for a budget of <strong> <span id="totalusd" class="number-display"></span></strong>  USD$ selected out of <strong><span class="total-count"></span></strong> records.</div></h4>
                <a class="reset btn btn-primary btn-sm" id="reset" href="javascript:dc.filterAll();dc.redrawAll();">Reset All</a>
            </div>
            <br>
            <div class="col-md-4">
                <a class="btn btn btn-success" href="javascript:void(0);" onclick="javascript:introJs().start();">Tutorial</a>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                
                <div class="row">
                    <div id="category" class="col-xs-12 col-md-8 dc-chart" data-step="1" data-intro="Click on this row chart to filter by category." data-position="right">
                        <h5><strong>Response Category</strong></h5>
                    </div>
               </div>
                <div class="row">
                    <div id="sector" class="col-xs-12 col-md-8 dc-chart" data-step="2" data-intro="Click on this pie chart to filter by sector." data-position="right">
                        <h5><strong>By Sectors / Working Groups</strong></h5>   
                    </div>
                </div>
                
                <div class="row">
                    <div id="objective" class="col-xs-12 col-md-8 dc-chart" data-step="3" data-intro="Click on this row chart to filter by objective." data-position="right">
                        <h5><strong>Top 5 Objectives </strong><small>  </small></h5>
                    </div>
                   </div>
                <div class="row">
                    <div id="output" class="col-xs-12 col-md-8 dc-chart" data-step="7" data-intro="Click on this row chart to filter by output." data-position="right">
                        <h5><strong>Top 5 Outputs </strong><small> </small></h5>
                    </div>
               </div>
                <div class="row">
                    <div id="cost" class="col-xs-12 col-md-8 dc-chart" data-step="8" data-intro="Click on this row chart to filter by cost per beneficiary." data-position="right">
                        <h5><strong>Cost per targeted beneficiary </strong><small> </small></h5>
                    </div>
                </div>
            </div>
            
            
            <div class="col-md-4">
                <div class="row">
                    <div id="map2" class="col-xs-12 col-md-8 dc-chart" data-step="4" data-intro="Or click on this map to filter by area of operation." data-position="right">
                        <h5><strong>Filter on the Map </strong><small>by Governorate, Country wide or all Camps</small></h5>
                        
                    </div>
                </div>
                <div class="row">
                    <div id="area" class="col-xs-12 col-md-8 dc-chart" data-step="5" data-intro="Click on this row chart to filter by area of operation." data-position="right">
                        <h5><strong>Top Locations </strong><small>Locations may refers to different aggregation levels. Camps locations are not aggregated within Governorate</small></h5>
                        
                    </div>
                </div>
                
                <div class="row">
                    <div id="gend" class="col-xs-12 col-md-8 dc-chart" data-step="9" data-intro="Click on this row chart to filter by cost per beneficiary." data-position="right">
                        <h5><strong>Targeted Age & Gender </strong><small>  </small></h5>
                    </div>
                </div>
            </div>
            
            
            <div class="col-md-4">
                <div class="row">
                    <div id="orgs" class="col-xs-12 col-md-8 dc-chart" data-step="6" data-intro="Click on this row chart to filter by partner." data-position="left">
                        <h5><strong>Top 25 Partners </strong><small>by Appeal. Scroll down for Partners filter.</small></h5>
                    </div>
                </div>                 
                <div class="row">
                    <div id="targ" class="col-xs-12 col-md-8 dc-chart" data-step="10" data-intro="Click on this row chart to filter by cost per beneficiary." data-position="left">
                        <h5><strong>Targeted Beneficiary Group</strong><small>  </small></h5>
                    </div>
                </div>
                
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                
                UNHCR & UNDP thanks all partners for their data and cooperation.
                <br>
                Produced by Information Management Unit, UNHCR, Jordan. For more information please contact <a href="http://data.unhcr.org/jordan/team.html" target="_blank" >our team</a>.
            </div>
        </div>
        
                <div class="row">

            <div class="col-md-12" data-step="11" data-intro="Click on this row chart to filter by partner." data-position="right">
                <h5><strong>Filter by Partners</strong><small> </small></h5>
                <a href='javascript:dc.filterAll(); org_chart.filter("ACF"); dc.renderAll();' ><img src="images/partner/acf.jpg" alt="Filter on ACF" /></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("ACTED"); dc.renderAll();' ><img src="images/partner/acted.jpg" alt="ACTED" /></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("ActionAid"); dc.renderAll();'><img src="images/partner/actionaid.jpg" alt="Filter on Agency for Technical Cooperation and Development"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("ADRA"); dc.renderAll();'><img src="images/partner/adra.jpg" alt="Filter on Adventist Development and Relief Agency"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("AVSI"); dc.renderAll();'><img src="images/partner/avsi.jpg" alt="Filter on Association of Volunteers in International Service"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("CARE"); dc.renderAll();'><img src="images/partner/care.jpg" alt="Filter on CARE"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("CARITAS"); dc.renderAll();'><img src="images/partner/caritas.jpg" alt="Filter on CARITAS"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("CHF"); dc.renderAll();'><img src="images/partner/chf.jpg" alt="Filter on Common Humanitarian aid"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("CVT"); dc.renderAll();'><img src="images/partner/cvt.jpg" alt="Filter on Center for Victims of Torture"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("FPSC"); dc.renderAll();'><img src="images/partner/fpsci.jpg" alt="Filter on Foundation Promotion Social de la Cultura"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("HI"); dc.renderAll();'><img src="images/partner/hi.jpg" alt="Filter on Handicap International"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("ILO"); dc.renderAll();'><img src="images/partner/ilo.jpg" alt="Filter on International Labor Organisation"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("IMC"); dc.renderAll();'><img src="images/partner/imc.jpg" alt="Filter on International Medical Corps"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("ICMC"); dc.renderAll();'><img src="images/partner/icmc.jpg" alt="Filter on International Catholic Migration Commission"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("INTERSOS"); dc.renderAll();'><img src="images/partner/intersos.jpg" alt="Filter on Intersos"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("IOCC"); dc.renderAll();'><img src="images/partner/iocc.jpg" alt="Filter on International Orthodox Christian Charities"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("IOM"); dc.renderAll();'><img src="images/partner/iom.jpg" alt="Filter on International Organisation of Migration"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("IRW"); dc.renderAll();'><img src="images/partner/irw.jpg" alt="Filter on Islamic Relief Worldwide"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("IRC"); dc.renderAll();'><img src="images/partner/irc.jpg" alt="Filter on International Rescue Committee"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("IRD"); dc.renderAll();'><img src="images/partner/ird.jpg" alt="Filter on International Relief Development"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("JEN"); dc.renderAll();'><img src="images/partner/jen.jpg" alt="Filter on Japan Emergency NGOs"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("JHAS"); dc.renderAll();'><img src="images/partner/jhas.jpg" alt="Filter on Jordan Health Aid Society"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("JHCO"); dc.renderAll();'><img src="images/partner/jhco.jpg" alt="Filter on Jordan Hashemite charity organization"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("KNK"); dc.renderAll();'><img src="images/partner/knk.jpg" alt="Filter on ACTED"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("LWF"); dc.renderAll();'><img src="images/partner/lwf.jpg" alt="Filter on ACTED"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("FAO"); dc.renderAll();'><img src="images/partner/fao.jpg" alt="Filter on FAO"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("LA"); dc.renderAll();'><img src="images/partner/la.jpg" alt="Filter on Legal Aid"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("MSF-F"); dc.renderAll();'><img src="images/partner/msf.jpg" alt="Filter on Médecins Sans Frontiere"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("MercyCorps"); dc.renderAll();'><img src="images/partner/mc.jpg" alt="Filter on MercyCorps"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("MDM"); dc.renderAll();'><img src="images/partner/mdm.jpg" alt="Filter on Médecins du Monde"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("MEDAIR"); dc.renderAll();'><img src="images/partner/medair.jpg" alt="Filter on MEDAIR International Humanitarian Aid Organisation"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("POLA"); dc.renderAll();'><img src="images/partner/movimiento-po-la-paz.jpg" alt="Filter on ACTED"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("NICCOD"); dc.renderAll();'><img src="images/partner/niccod.jpg" alt="Filter on Nippon International Cooperation for Community Development"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("NRC"); dc.renderAll();'><img src="images/partner/nrc.jpg" alt="Filter on Norweigan Refugee Council"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("OPM"); dc.renderAll();'><img src="images/partner/operation-mercy.jpg" alt="Filter on Operation Mercy"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("OXFAM"); dc.renderAll();'><img src="images/partner/oxfam.jpg" alt="Filter on OXFAM"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("PU-AMI"); dc.renderAll();'><img src="images/partner/pu-ami.jpg" alt="Filter on Première Urgence - Aide Médicale Internationale"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("Questscope"); dc.renderAll();'><img src="images/partner/quetscope.jpg" alt="Filter on Questcope"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("SCI"); dc.renderAll();'><img src="images/partner/sci.jpg" alt="Filter on Save the 
                Children International"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("SCJordan"); dc.renderAll();'><img 
                src="images/partner/scjordan.jpg" alt="Filter on Save the 
                Children Jordan"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("RI"); dc.renderAll();'><img src="images/partner/ri.jpg" alt="Filter on Relief International"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("Taghyeer"); dc.renderAll();'><img src="images/partner/taghyeer.jpg" alt="Filter on Taghyeer - welovereading"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("TDH"); dc.renderAll();'><img src="images/partner/tdh.jpg" alt="Filter on Terre Des Hommes"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("TDHI"); dc.renderAll();'><img src="images/partner/tdh-it.jpg" alt="Filter on Terre des Hommes Italia"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("THW"); dc.renderAll();'><img src="images/partner/thw.jpg" alt="Filter on Federal Agency for Technical Relief"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("TGH"); dc.renderAll();'><img src="images/partner/triangle.jpg" alt="Filter on Triangle Génération Humanitaire"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("UNDP"); dc.renderAll();'><img src="images/partner/undp.jpg" alt="Filter on UNDP"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("UNESCO"); dc.renderAll();'><img src="images/partner/unesco.jpg" alt="Filter on United Nations Educational, Scientific and Cultural Organisation"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("UNFPA"); dc.renderAll();'><img src="images/partner/unfpa.jpg" alt="Filter on United Nations Population Fund"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("UNHABITAT"); dc.renderAll();'><img src="images/partner/unhabitat.jpg" alt="Filter on United Nations HABITAT"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("UNHCR"); dc.renderAll();'><img src="images/partner/unhcr.jpg" alt="Filter on UN High Commissioner for Refugees"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("UNICEF"); dc.renderAll();'><img src="images/partner/unicef.jpg" alt="Filter on United Nations Children's Funds"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("UNOPS"); dc.renderAll();'><img src="images/partner/unops.jpg" alt="Filter on United Nations Office for Project Services"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("UPP"); dc.renderAll();'><img 
                src="images/partner/upp.jpg" alt="Filter on Un Ponte 
                per"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("WARCHILD"); dc.renderAll();'><img src="images/partner/warchild.jpg" alt="Filter on WarChild UK"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("WFP"); dc.renderAll();'><img src="images/partner/wfp.jpg" alt="Filter on World Food Programme"/></a>
                <a href='javascript:dc.filterAll(); org_chart.filter("WVI"); dc.renderAll();'><img src="images/partner/wvi.jpg" alt="Filter on World Vision International"/></a>
                
            </div>
        </div>


        
    </strong></strong></div><strong><strong>

    <script type="text/javascript" src="js/d3_002.js"></script>
    <script type="text/javascript" src="js/crossfilter.js"></script>
    <script type="text/javascript" src="js/dc.js"></script>
    <script type="text/javascript" src="js/d3.js"></script>

 <script>


        var sector_chart = dc.pieChart("#sector");
        var category_chart = dc.rowChart("#category");
        var org_chart = dc.rowChart("#orgs");
        var objective_chart = dc.rowChart("#objective");
        var output_chart = dc.rowChart("#output");
        var area_chart = dc.rowChart("#area");
        var costunit_chart = dc.rowChart("#cost");
        var gender_chart = dc.rowChart("#gend");
        var target_chart = dc.rowChart("#targ");
        var map2_chart = dc.geoChoroplethChart("#map2");

        d3.csv("data/3rp.csv", function(csv_data){

            var numberFormat = d3.format(",f");
           // si = d3.format('s');
           // siMod = function(val) { return si(val).replace(/G/, 'B') };

            var cf = crossfilter(csv_data);

            cf.partner = cf.dimension(function(d) { return d.Partner; });
            cf.sector = cf.dimension(function(d) { return d.Sector; });
            cf.category = cf.dimension(function(d) { return d.Category; });
            cf.objective = cf.dimension(function(d) { return d.Objective; });
            cf.output = cf.dimension(function(d) { return d.Output; });
            cf.area = cf.dimension(function(d) { return d.Area; });
            cf.rcode = cf.dimension(function(d) { return d.RegionCODE; });
            cf.total = cf.dimension(function(d) { return d.Total; });
            cf.costunit = cf.dimension(function(d) { return d.costunit; });
            cf.gender = cf.dimension(function(d) { return d.gender; });
            cf.target = cf.dimension(function(d) { return d.target; });

            var partner = cf.partner.group();
            var sector = cf.sector.group();
            var category = cf.category.group();
            var objective = cf.objective.group();
            var output = cf.output.group();
            var area = cf.area.group();
            var rcode = cf.rcode.group();
            var costunit = cf.costunit.group();
            var gender = cf.gender.group();
            var target = cf.target.group();
            var all = cf.groupAll();
            
            
            var bytotalGroup = cf.total.groupAll().reduceSum(function (d) { return d.Total; });

            var sectorByTotal = cf.sector.group().reduceSum(function (d) { return d.Total; });
            var partnerByTotal = cf.partner.group().reduceSum(function (d) { return d.Total; });
            var categoryByTotal = cf.category.group().reduceSum(function (d) { return d.Total; });
            var objectiveByTotal = cf.objective.group().reduceSum(function (d) { return d.Total; });
            var outputByTotal = cf.output.group().reduceSum(function (d) { return d.Total; });
            var areaByTotal = cf.area.group().reduceSum(function (d) { return d.Total; });
            var rcodeByTotal = cf.rcode.group().reduceSum(function (d) { return d.Total; });
            
            var costunitcount = cf.costunit.group().reduceSum(function (d) { return d.Total; });
            var gendercount = cf.gender.group().reduceSum(function (d) { return d.Total; });
            var targetcount = cf.target.group().reduceSum(function (d) { return d.Total; });

            // Implement bookmarking chart filters category --> Thanks to https://github.com/franckalbinet
            // Serializing filters values in URL
            function getFiltersValues() {
                var filters = [
                    { name: 'sector', value: sector_chart.filters()},
                    { name: 'objective', value: objective_chart.filters()},
                    { name: 'output', value: output_chart.filters()},
                    { name: 'category', value: category_chart.filters()},
                    { name: 'area', value: area_chart.filters()},
                    { name: 'map2', value: map2_chart.filters()},
                    { name: 'org', value: org_chart.filters()},
                    { name: 'cost', value: costunit_chart.filters()},
                    { name: 'gend', value: gender_chart.filters()},
                    { name: 'targ', value: target_chart.filters()}                    
                    ];
                var recursiveEncoded = $.param( filters );
                location.hash = recursiveEncoded;
            }
            // Init chart filters
            function initFilters() {
                // Get hash values
                var parseHash = /^#sector=([A-Za-z0-9,_\-\/\s]*)&objective=([A-Za-z0-9,_\-\/\s]*)&output=([A-Za-z0-9,_\-\/\s]*)&category=([A-Za-z0-9,_\-\/\s]*)&area=([A-Za-z0-9,_\-\/\s]*)&map2=([A-Za-z0-9,_\-\/\s]*)&org=([A-Za-z0-9,_\-\/\s]*)$/;
                var parsed = parseHash.exec(decodeURIComponent(location.hash));
                function filter(chart, rank) {  // for instance chart = sector_chart and rank in URL hash = 1
                    // sector chart
                    if (parsed[rank] == "") {
                        chart.filter(null);
                    }
                    else {
                        var filterValues = parsed[rank].split(",");
                        for (var i = 0; i < filterValues.length; i++ ) {
                            chart.filter(filterValues[i]);
                        }
                    }
                }
                if (parsed) {
                    filter(sector_chart, 1);
                    filter(objective_chart, 2);
                    filter(output_chart, 3);
                    filter(category_chart, 4);
                    filter(area_chart, 5);
                    filter(map2_chart, 6);
                    filter(org_chart, 7);
                    filter(costunit_chart, 8);
                    filter(gender_chart, 9);
                    filter(target_chart, 10);
                }
            }

            // tooltips for row chart
            var rowTip = d3.tip()
                  .attr('class', 'd3-tip')
                  .offset([-10, 0])
                  .html(function (d) { return "<span style='color: #f0027f'>" +  d.key + "</span> : "  + numberFormat(d.value) + " USD"; });

            // tooltips for pie chart
            var pieTip = d3.tip()
                  .attr('class', 'd3-tip')
                  .offset([-10, 0])
                  .html(function (d) { return "<span style='color: #f0027f'>" +  d.data.key + "</span> : "  + numberFormat(d.value) + " USD"; });

            // tooltips for bar chart
            var barTip = d3.tip()
                  .attr('class', 'd3-tip')
                  .offset([-10, 0])
                  .html(function (d) { return "<span style='color: #f0027f'>" + d.data.key + "</span> : " + numberFormat(d.y) + " USD";});



            dc.dataCount("#count-info")
                .dimension(cf)
                .group(all);



           dc.numberDisplay("#totalusd")
               .formatNumber(d3.format(",f"))
               .valueAccessor(function(d){return +d})
            .group(bytotalGroup);



            category_chart.width(400).height(100)
                .dimension(cf.category)
                .group(categoryByTotal)
                .elasticX(true)
                .on("filtered", getFiltersValues)
                .xAxis().ticks(4).tickFormat(d3.format("s"));

             /* 3W data are sorted per sector and color are allocated to sectors as per standard code in rrp6 */
            sector_chart.width(260).height(260)
                .dimension(cf.sector)
                .group(sectorByTotal)
                .innerRadius(10)
                .colors(['#c00000', /* Education */
                        '#006600', /* Food Security */
                        '#7f7f7f', /* NFI */
                        '#376092', /* Protection */
                        '#92d050', /* Public Health */
                        '#215968', /* SCL*/
                        '#ffc000', /* Shelter */
                        '#7030a0', /* WASH */
                        ])
                .colorDomain([0,7])
                .renderLabel(true)
                .colorAccessor(function(d, i){return i%8;})
                .on("filtered", getFiltersValues);

            objective_chart.width(400).height(160)
                .dimension(cf.objective)
                .group(objectiveByTotal)
                .elasticX(true)
                .on("filtered", getFiltersValues)
                .data(function(group) {
                    return group.top(5);
                })
                .colors(['#3182bd'])
                .colorDomain([0,0])
                .colorAccessor(function(d, i){return 1;})
                .xAxis().ticks(4).tickFormat(d3.format("s"));

            output_chart.width(400).height(150)
                .dimension(cf.output)
                .group(outputByTotal)
                .elasticX(true)
                .on("filtered", getFiltersValues)
                .data(function(group) {
                    return group.top(5);
                })
                .colors(['#3182bd'])
                .colorDomain([0,0])
                .colorAccessor(function(d, i){return 1;})
                .xAxis().ticks(4).tickFormat(d3.format("s"));
                
            costunit_chart.width(400).height(220)
                .dimension(cf.costunit)
                .group(costunitcount)
                .elasticX(true)
                .on("filtered", getFiltersValues)
                .colors(['#FFDDAA'])
                .colorDomain([0,0])
                .colorAccessor(function(d, i){return 1;})
                .xAxis().ticks(4).tickFormat(d3.format("s"));
                
            gender_chart.width(400).height(330)
                .dimension(cf.gender)
                .group(gendercount)
                .elasticX(true)
                .on("filtered", getFiltersValues)
                .colors(['#FFDDAA'])
                .colorDomain([0,0])
                .colorAccessor(function(d, i){return 1;})
                .xAxis().ticks(4).tickFormat(d3.format("s"));
                
            target_chart.width(400).height(330)
                .dimension(cf.target)
                .group(targetcount)
                .elasticX(true)
                .on("filtered", getFiltersValues)
                .colors(['#FFDDAA'])
                .colorDomain([0,0])
                .colorAccessor(function(d, i){return 1;})
                .xAxis().ticks(4).tickFormat(d3.format("s"));

            area_chart.width(400).height(220)
                .dimension(cf.area)
                .group(areaByTotal)
                .elasticX(true)
                .on("filtered", getFiltersValues)
                .data(function(group) {
                    return group.top(6);
                })
                .colors(['#A9DDA9'])
                .colorDomain([0,0])
                .colorAccessor(function(d, i){return 1;})
                .xAxis().ticks(4).tickFormat(d3.format("s"));

            org_chart.width(450).height(580)
                .dimension(cf.partner)
                .group(partnerByTotal)
                .elasticX(true)
                .on("filtered", getFiltersValues)
                .data(function(group) {
                    return group.top(25);
                })
                .colors(['#99A5B7'])
                .colorDomain([0,0])
                .colorAccessor(function(d, i){return 1;})
                .xAxis().ticks(4).tickFormat(d3.format("s"));


         /* Region map with ID rid */
            d3.json("data/admin1.geojson", function (governJSON) {

                 map2_chart.width(400).height(300)
                    .dimension(cf.rcode)
                    .group(rcodeByTotal)
                    .colors(['#AAAAAA', "rgb(49,163,84)"]) //'#CB181D'
                    .colorDomain([0, 2])
                    .colorAccessor(function (d) {
                        if(d>0){
                            return 1;
                        } else {
                            return 0;
                        }
                    })
                    
                    .on("filtered", getFiltersValues)
                    .colorAccessor(function (d) {
                        if(d>0){
                            return 1;
                        } else {
                            return 0;
                        }
                    })
                    .overlayGeoJson(governJSON.features, "Governorates", function (d) {
                        return d.properties.adm1_code;
                    })
                    .projection(d3.geo.mercator().center([44,28.8]).scale(2500)) /* Center on Jordan */
                    .title(function (d) {
                        return "Geo-Filter: " + gcode2gov[d.key];
                    });
                    
                    $('#reset').on('click', function (){
                      dc.filterAll();
                      dc.redrawAll();
                      return false;
                    })
                    //dc.redrawAll();
                    dc.renderAll();

                    /* Customised infobox */
                    d3.selectAll("g.row").call(rowTip);
                    d3.selectAll("g.row").on('mouseover', rowTip.show)
                        .on('mouseout', rowTip.hide);

                    d3.selectAll(".pie-slice").call(pieTip);
                    d3.selectAll(".pie-slice").on('mouseover', pieTip.show)
                        .on('mouseout', pieTip.hide);

                });

            $('#loading').hide();
            $('#dashboard').show();

        });
    </script>
    <script src="js/bootstrap.js"></script>

    <!-- Piwik-->
    <script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://data.unhcr.org/piwik/" : "http://data.unhcr.org/piwik/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
    </script><script type="text/javascript">
    try {
    var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 21);
    piwikTracker.trackPageView();
    piwikTracker.enableLinkTracking();
    } catch( err ) {}
    </script><noscript><p><img src="http://data.unhcr.org/piwik/piwik.php?idsite=21" style="border:0" alt="" /></p></noscript>
    <!-- End Piwik Tracking Code -->

  </strong></strong><div class="d3-tip n" style="position: absolute; display: none; box-sizing: border-box; top: 234.633px; left: 635px;"></div><div class="d3-tip n" style="position: absolute; display: none; box-sizing: border-box; top: 254.195px; left: 328.135px;"></div></body></html>
